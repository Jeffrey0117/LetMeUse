"use strict";(()=>{(function(){let d=document.currentScript?.getAttribute("data-base-url")??"";document.querySelectorAll("[data-adman-id]").forEach(async i=>{let t=i.getAttribute("data-adman-id");if(t)try{let e=await fetch(`${d}/api/serve/${t}`);if(!e.ok)return;let n=await e.json();l(i,n)}catch{}});function o(i){let t=document.createElement("div");return t.textContent=i,t.innerHTML}function l(i,t){let e=t.style,n=document.createElement("div");Object.assign(n.style,{backgroundColor:e.backgroundColor,color:e.textColor,borderRadius:e.borderRadius,padding:e.padding,maxWidth:e.maxWidth,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',zIndex:String(e.zIndex),boxSizing:"border-box"});let a=t.position;a==="fixed-bottom"?Object.assign(n.style,{position:"fixed",bottom:"0",left:"0",right:"0"}):a==="fixed-top"&&Object.assign(n.style,{position:"fixed",top:"0",left:"0",right:"0"});let r="",s=t.imageUrl;if(s){let g=s.startsWith("http")?s:`${d}${s}`;r+=`<img src="${o(g)}" alt="" style="max-width:100%;border-radius:4px;margin-bottom:8px" />`}r+=`<h3 style="margin:0 0 6px;font-size:18px;font-weight:600">${o(t.headline)}</h3>`;let c=t.bodyText;c&&(r+=`<p style="margin:0 0 12px;font-size:14px;opacity:0.85;line-height:1.5">${o(c)}</p>`),r+=`<a href="${o(t.ctaUrl)}" target="_blank" rel="noopener noreferrer" style="display:inline-block;background:${e.ctaBackgroundColor};color:${e.ctaTextColor};padding:8px 20px;border-radius:6px;text-decoration:none;font-size:14px;font-weight:500">${o(t.ctaText)}</a>`,n.innerHTML=r,a.startsWith("fixed-")?document.body.appendChild(n):i.appendChild(n)}})();})();
