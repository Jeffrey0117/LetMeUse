"use strict";(()=>{(function(){let l=document.currentScript?.getAttribute("data-base-url")??"";document.querySelectorAll("[data-adman-id]").forEach(async e=>{let t=e.getAttribute("data-adman-id");if(t)try{let i=await fetch(`${l}/api/serve/${t}`);if(!i.ok)return;let n=await i.json();u(e,n)}catch{}});function o(e){let t=document.createElement("div");return t.textContent=e,t.innerHTML}function g(e){return e.startsWith("http")?e:`${l}${e}`}function a(e){return{backgroundColor:String(e.backgroundColor),color:String(e.textColor),borderRadius:String(e.borderRadius),padding:String(e.padding),maxWidth:String(e.maxWidth),fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif',boxSizing:"border-box"}}function d(e){let t=e.style;return`<a href="${o(e.ctaUrl)}" target="_blank" rel="noopener noreferrer" style="display:inline-block;background:${t.ctaBackgroundColor};color:${t.ctaTextColor};padding:8px 20px;border-radius:6px;text-decoration:none;font-size:14px;font-weight:500;white-space:nowrap">${o(e.ctaText)}</a>`}function x(e){return`<button onclick="this.closest('[data-adman-wrapper]').remove()" style="background:none;border:none;cursor:pointer;font-size:18px;line-height:1;opacity:0.7;padding:4px 8px;color:${e}">\u2715</button>`}function c(e,t,i=""){let n=e.imageUrl;return n?`<img src="${o(g(n))}" alt="" style="max-width:100%;border-radius:4px;margin-bottom:8px;object-fit:cover;max-height:${t};${i}" />`:""}function u(e,t){switch(t.type){case"bottom-banner":return b(e,t);case"top-notification":return h(t);case"in-article-banner":return m(e,t);case"modal-popup":return f(t);case"sidebar-card":return y(e,t);default:return m(e,t)}}function b(e,t){let i=t.style,n=document.createElement("div");n.setAttribute("data-adman-wrapper",""),Object.assign(n.style,{...a(i),position:"fixed",bottom:"0",left:"0",right:"0",zIndex:String(i.zIndex),display:"flex",alignItems:"center",gap:"16px",boxShadow:"0 -2px 8px rgba(0,0,0,0.15)"});let r="",s=t.imageUrl;s&&(r+=`<img src="${o(g(s))}" alt="" style="width:80px;height:60px;object-fit:cover;border-radius:4px;flex-shrink:0" />`),r+='<div style="flex:1;min-width:0">',r+=`<h3 style="margin:0 0 4px;font-size:16px;font-weight:600">${o(t.headline)}</h3>`;let p=t.bodyText;p&&(r+=`<p style="margin:0;font-size:13px;opacity:0.85;line-height:1.4">${o(p)}</p>`),r+="</div>",r+=d(t),n.innerHTML=r,document.body.appendChild(n)}function h(e){let t=e.style,i=document.createElement("div");i.setAttribute("data-adman-wrapper",""),Object.assign(i.style,{...a(t),position:"fixed",top:"0",left:"0",right:"0",zIndex:String(t.zIndex),display:"flex",alignItems:"center",gap:"12px",padding:"10px 16px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"});let n=`<span style="flex:1;font-size:14px;font-weight:500">${o(e.headline)}</span>`;n+=d(e).replace("padding:8px 20px","padding:6px 16px").replace("font-size:14px","font-size:13px"),n+=x(String(t.textColor)),i.innerHTML=n,document.body.appendChild(i)}function m(e,t){let i=t.style,n=document.createElement("div");n.setAttribute("data-adman-wrapper",""),Object.assign(n.style,{...a(i),boxShadow:"0 1px 3px rgba(0,0,0,0.12)"});let r=c(t,"200px","width:100%");r+=`<h3 style="margin:0 0 6px;font-size:18px;font-weight:600">${o(t.headline)}</h3>`;let s=t.bodyText;s&&(r+=`<p style="margin:0 0 12px;font-size:14px;opacity:0.85;line-height:1.5">${o(s)}</p>`),r+=d(t),n.innerHTML=r,e.appendChild(n)}function f(e){let t=e.style,i=document.createElement("div");i.setAttribute("data-adman-wrapper",""),Object.assign(i.style,{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:String(t.zIndex)});let n=document.createElement("div");Object.assign(n.style,{...a(t),maxWidth:"400px",width:"90%",position:"relative",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"});let r=`<div style="position:absolute;top:8px;right:8px">${x(String(t.textColor))}</div>`;r+=c(e,"180px","width:100%"),r+=`<h3 style="margin:0 0 8px;font-size:20px;font-weight:600">${o(e.headline)}</h3>`;let s=e.bodyText;s&&(r+=`<p style="margin:0 0 16px;font-size:14px;opacity:0.85;line-height:1.5">${o(s)}</p>`),r+=d(e).replace("display:inline-block","display:block;text-align:center;width:100%"),n.innerHTML=r,i.appendChild(n),i.addEventListener("click",p=>{p.target===i&&i.remove()}),document.body.appendChild(i)}function y(e,t){let i=t.style,n=document.createElement("div");n.setAttribute("data-adman-wrapper",""),Object.assign(n.style,{...a(i),maxWidth:"280px",boxShadow:"0 1px 3px rgba(0,0,0,0.12)"});let r=c(t,"160px","width:100%");r+=`<h3 style="margin:0 0 6px;font-size:16px;font-weight:600">${o(t.headline)}</h3>`;let s=t.bodyText;s&&(r+=`<p style="margin:0 0 12px;font-size:13px;opacity:0.85;line-height:1.4">${o(s)}</p>`),r+=d(t).replace("display:inline-block","display:block;text-align:center;width:100%;font-size:13px"),n.innerHTML=r,e.appendChild(n)}})();})();
